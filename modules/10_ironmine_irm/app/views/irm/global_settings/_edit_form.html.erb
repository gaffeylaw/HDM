<%= common_title %>
<% content_for :form_buttons do %>
    <%= link_submit t(:save),{:class=>"btn btn-primary"}%>
    <%= link_to t(:cancel), {:action => "index"},{:class=>"btn"}%>
<% end %>

<%= form_for("setting",:url=>{:action=>"update"},:builder => LabellingFormBuilder, :html => {:method => :put, :id => "edit_setting_form", :multipart => true}) do |f| %>
    <% content_for :form_block_a do %>
      <table class="form-table">
        <tbody>
            <tr>
              <td class="label-col"><label><%=@setting_names[:APPLICATION_TITLE]%></label></td>
              <td class="data-3col"><%= text_field_tag "APPLICATION_TITLE",
                                                      @setting_values[:APPLICATION_TITLE],
                                                      :required => true%>
              </td>
            </tr>
            <tr>
              <td class="label-col"><label><%=(@setting_names[:HOST_NAME])%></label></td>
              <td class="data-3col"><%= text_field_tag "HOST_NAME",
                                                      @setting_values[:HOST_NAME],
                                                      :required => true%>
              </td>
            </tr>
            <tr>
              <td class="label-col"><label><%=(@setting_names[:HOST_PATH])%></label></td>
              <td class="data-3col"><%= text_field_tag "HOST_PATH",
                                                      @setting_values[:HOST_PATH],
                                                      :required => true%>
              </td>
            </tr>
            <tr>
              <td class="label-col"><label><%=(@setting_names[:HOST_PORT])%></label></td>
              <td class="data-3col"><%= text_field_tag "HOST_PORT" ,
                                                       @setting_values[:HOST_PORT],
                                                      :required => true%>
              </td>
            </tr>
            <tr>
              <td class="label-col"><label><%=(@setting_names[:EMISSION_EMAIL_ADDRESS])%></label></td>
              <td class="data-3col"><%= text_field_tag "EMISSION_EMAIL_ADDRESS" ,
                                                      @setting_values[:EMISSION_EMAIL_ADDRESS ],
                                                      :required => true%>
              </td>
            </tr>
            <tr>
              <td class="label-col"><label><%=(@setting_names[:UPLOAD_FILE_LIMIT])%></label></td>
              <td class="data-3col"><%= text_field_tag "UPLOAD_FILE_LIMIT" ,
                                                      @setting_values[:UPLOAD_FILE_LIMIT ],
                                                      :required => true%>
              </td>
            </tr>
            <tr>
              <td class="label-col"><label><%=(@setting_names[:TIMEZONE])%></label></td>
              <td class="data-3col"><%= select_tag "TIMEZONE" ,
                                                      options_for_select(available_timezone,@setting_values[:TIMEZONE ]),
                                                      :required => true%>
              </td>
            </tr>
        </tbody>
      </table>
    <% end %>

    <% content_for :form_block_b do %>
        <table class="form-table">
          <tbody>
              <tr>
                <td class="label-col"><label><%=(@setting_names[:APP_TOP_LOGO])%></label></td>
                <td class="data-3col"><%= file_field_tag "APP_TOP_LOGO" ,
                                                        :accept => 'image/png,image/gif,image/jpeg'%>&nbsp;<%= t :recommended_size%>:&nbsp;175px * 65px ;<%= t(:file_upload_limit_alert,:m=>Irm::SystemParametersManager.upload_file_limit) %>
                </td>
              </tr>
              <tr>
                <td class="label-col"></td>
                <td class="data-3col">
                <%= image_tag Irm::SystemParametersManager.app_top_logo, :style => "width: 175px; height:65px;border: 1px solid #c9c9c9 !important;"%>
                </td>
              </tr>
              <tr>
                <td class="label-col"><label><%=(@setting_names[:LOGIN_PAGE_LOGO])%></label></td>
                <td class="data-3col"><%= file_field_tag "LOGIN_PAGE_LOGO" ,
                                                        :accept => 'image/png,image/gif,image/jpeg'%>&nbsp;<%= t :recommended_size%>:&nbsp;300px * 124px ;<%= t(:file_upload_limit_alert,:m=>Irm::SystemParametersManager.upload_file_limit) %></td>
              </tr>
              <tr>
                <td class="label-col"></td>
                <td class="data-3col">
                <%= image_tag Irm::SystemParametersManager.login_page_logo, :style => "width: 300px; height:124px; border: 1px solid #c9c9c9 !important" %></td>
              </tr>
              <tr>
                <td class="label-col"><label><%=(@setting_names[:ADDRESS_BAR_LOGO])%></label></td>
                <td class="data-3col"><%= file_field_tag "ADDRESS_BAR_LOGO",
                                                        :accept => 'image/png,image/gif,image/jpeg'%>&nbsp;<%= t :recommended_size%>:&nbsp;16px * 16px ;<%= t(:file_upload_limit_alert,:m=>Irm::SystemParametersManager.upload_file_limit) %></td>
              </tr>
              <tr>
                <td class="label-col"></td>
                <td class="data-3col">
                <%= image_tag Irm::SystemParametersManager.address_bar_logo, :style => "width: 16px; height:16px; border: 1px solid #c9c9c9 !important" %></td>
              </tr>
          </tbody>
        </table>
    <% end %>

    <% content_for :form_block_c do %>
        <table class="form-table">
          <tbody>
              <tr>
                <td class="label-col"><label><%=(@setting_names[:ERROR_404])%></label></td>
                <td class="data-3col"><%= text_field_tag "ERROR_404" ,
                                                        @setting_values[:ERROR_404 ],
                                                        :required => true%>
                </td>
              </tr>
              <tr>
                <td class="label-col"><label><%=(@setting_names[:ERROR_500])%></label></td>
                <td class="data-3col"><%= text_field_tag "ERROR_500" ,
                                                        @setting_values[:ERROR_500 ],
                                                        :required => true%>
                </td>
              </tr>
              <tr>
                <td class="label-col"><label><%=(@setting_names[:ERROR_422])%></label></td>
                <td class="data-3col"><%= text_field_tag "ERROR_422" ,
                                                        @setting_values[:ERROR_422 ],
                                                        :required => true%>
                </td>
              </tr>
              <tr>
                <td class="label-col"><label><%=(@setting_names[:ERROR_ACCESS_DENY])%></label></td>
                <td class="data-3col"><%= text_field_tag "ERROR_ACCESS_DENY" ,
                                                        @setting_values[:ERROR_ACCESS_DENY ],
                                                        :required => true%>
                </td>
              </tr>
          </tbody>
        </table>
    <% end %>

    <!--页面结构-->
    <div class="page-block">
      <table class="page-block-header"><tr>
        <td class="page-block-title">
          <h2 class="block-title"><%=t(:label_irm_global_setting)%></h2>
        </td>
        <td class="page-block-button">
          <%= content_for :form_buttons   %>
        </td>
      </tr></table>
      <div class="page-block-body">
        <%= system_parameter_errors_for(@errors) %>

        <div class="sub-page-block">
          <div class="sub-page-block-header">
            <span class="required-help-info"> = <%=t(:label_is_required)%></span>
            <h3 class="sub-page-block-title"><%= t(:label_icm_incident_requset_base_info) %></h3>
          </div>
          <div class="sub-page-block-body">
            <%= content_for :form_block_a   %>
          </div>
        </div>

        <div class="sub-page-block">
          <div class="sub-page-block-header">
            <h3 class="sub-page-block-title"><%= t(:label_irm_global_setting_logo) %></h3>
          </div>
          <div class="sub-page-block-body">
            <%= content_for :form_block_b   %>
          </div>

        </div>

        <div class="sub-page-block">
          <div class="sub-page-block-header">
            <h3 class="sub-page-block-title"><%= t(:label_irm_global_setting_error_page_info) %></h3>
          </div>
          <div class="sub-page-block-body">
            <%= content_for :form_block_c   %>
          </div>

        </div>

      </div>

      <table class="page-block-footer"><tr>
        <td class="page-block-title">
        </td>
        <td class="page-block-button">
          <%= content_for :form_buttons   %>
        </td>
      </tr></table>
    </div>
<% end %>